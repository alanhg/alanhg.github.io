---
title: 关于CodeReview中代码覆盖范围的思考
tags:
  - CodeReview
  - Git
abbrlink: 896af6d1
date: 2020-02-19 22:54:51
---

> CR现在的代码范围是 by单独分支，by天，代码实践中是否存在代码重看呢？

单独按照某个分支比如sprint，我们按照提交日期筛选昨天的代码去看，这些提交实际上也是包含了MR，MR本身就是提交，而MR这种提交会包含非当天的提交记录，什么意思？就是比如你5号做的MR，可能存在4号的提交代码。

### 会重复看到同一段代码吗？

1. 日期会出现不是目标所看日期的，如上，5号的MR，包含的Diff是4号的提交
2. 因为CR我们看的是Diff，假如之前的代码已经进入该分支，再看之后的不论哪一天，重复的代码自然不算在Diff里，`所以不存在重复看同一段代码`

### 结论
1.  当前机制做CR，代码覆盖范围没问题

### 值得注意的
1.  MR本身是一次提交，但是MR看到的代码是MR关联的别的分支的N次commit
2. MR本身如果存在冲突，所以`MR中可能也是存在了单独在这次提交中的一些Diff修改`
3. MR这次提交日期与MR关联的commit日期是不同的，因为整体提交日期是线性的
4. GIt记录中顺序为push日期，但记录列表我们所看到的日期是commit日期